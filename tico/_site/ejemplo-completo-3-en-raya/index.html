<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>9.5. Un ejemplo completo. Las tres en raya - TICO II</title> <link rel="shortcut icon" href="/docs/tico/_site/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs/tico/_site/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/docs/tico/_site/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/tico/_site/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>9.5. Un ejemplo completo. Las tres en raya | TICO II</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="9.5. Un ejemplo completo. Las tres en raya" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Apuntes de la asignatura “Tecnologías de la información y la comunicación II”, optativa de 2º curso de bachillerato ofertada por el IES Celia Viñas de Almería (España)" /> <meta property="og:description" content="Apuntes de la asignatura “Tecnologías de la información y la comunicación II”, optativa de 2º curso de bachillerato ofertada por el IES Celia Viñas de Almería (España)" /> <link rel="canonical" href="https://iescelia.org//docs/tico/_site/ejemplo-completo-3-en-raya/" /> <meta property="og:url" content="https://iescelia.org//docs/tico/_site/ejemplo-completo-3-en-raya/" /> <meta property="og:site_name" content="TICO II" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="9.5. Un ejemplo completo. Las tres en raya" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Apuntes de la asignatura “Tecnologías de la información y la comunicación II”, optativa de 2º curso de bachillerato ofertada por el IES Celia Viñas de Almería (España)","headline":"9.5. Un ejemplo completo. Las tres en raya","url":"https://iescelia.org//docs/tico/_site/ejemplo-completo-3-en-raya/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://iescelia.org//docs/tico/_site/" class="site-title lh-tight"> TICO II </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://iescelia.org//docs/tico/_site/" class="nav-list-link">Tecnologías de la Información y la Comunicación 2º BACHILLERATO</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://iescelia.org//docs/tico/_site/presentacion/" class="nav-list-link">0. Presentación de la asignatura</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://iescelia.org//docs/tico/_site/introduccion-a-la-programacion/" class="nav-list-link">1. Introducción a la programación</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://iescelia.org//docs/tico/_site/diagramas-de-flujo/" class="nav-list-link">2. Programación con diagramas de flujo</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://iescelia.org//docs/tico/_site/pseudocodigo/" class="nav-list-link">3. Programación con pseudocódigo</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="https://iescelia.org//docs/tico/_site/internet-web-html-css/" class="nav-list-link">4. Internet y la web - HTML y CSS</a></li><li class="nav-list-item "><a href="https://iescelia.org//docs/tico/_site/cms/" class="nav-list-link">5. Gestores de contenido</a></li><li class="nav-list-item "><a href="https://iescelia.org//docs/tico/_site/trabajo-colaborativo/" class="nav-list-link">6. Trabajo colaborativo</a></li><li class="nav-list-item "><a href="https://iescelia.org//docs/tico/_site/seguridad-informatica/" class="nav-list-link">7. Principios de seguridad informática</a></li><li class="nav-list-item "><a href="https://iescelia.org//docs/tico/_site/criptografia/" class="nav-list-link">8. Criptografía y cifrado</a></li><li class="nav-list-item "><a href="https://iescelia.org//docs/tico/_site/malware/" class="nav-list-link">9. Software malicioso</a></li></ul></li><li class="nav-list-item"><a href="https://iescelia.org//docs/tico/_site/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search TICO II" aria-label="Search TICO II" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Introd. a la prog. y al diseño 3D</a></li> <li class="breadcrumb-nav-list-item"><a href="">9. El lenguaje C</a></li> <li class="breadcrumb-nav-list-item"><span>9.5. Un ejemplo completo. Las tres en raya</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h2 class="no_toc" id="95-un-ejemplo-completo-las-tres-en-raya"> <a href="#95-un-ejemplo-completo-las-tres-en-raya" class="anchor-heading" aria-labelledby="95-un-ejemplo-completo-las-tres-en-raya"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.5. Un ejemplo completo: las tres en raya </h2> <ul id="markdown-toc"> <li><a href="#961-el-código-fuente" id="markdown-toc-961-el-código-fuente">9.6.1. El código fuente</a></li> <li><a href="#962-cómo-ejecutar-y-depurar-este-programa" id="markdown-toc-962-cómo-ejecutar-y-depurar-este-programa">9.6.2. ¿Cómo ejecutar y depurar este programa?</a></li> </ul> <p>Llegó la hora de poner manos a la obra.</p> <p>Si hay una sección de este capítulo que tienes que leer con atención, es esta. Así que es un mal momento para tener prisa.</p> <p>Vamos a escribir un <strong>programa completo en C</strong>. Te puede servir de plantilla para desarrollar tus propios programas a partir de este código fuente.</p> <p>El programa en cuestión será una versión del juego de <strong>las tres en raya</strong> que encontrarás resuelta en pseudocódigo el tema de introducción a la programación. No dudes en repasar aquel ejercicio resuelto para ver el pseudocódigo, puesto que nuestro programa será una traducción literal de ese pseudocódigo a C.</p> <p>Aquí tienes el código fuente completo. Estúdialo con atención y asegúrate de entenderlo todo (o un gran porcentaje) antes de continuar. Ah, y no dejes de compararlo línea a línea con el mismo código en pseudocódigo.</p> <h3 id="961-el-código-fuente"> <a href="#961-el-código-fuente" class="anchor-heading" aria-labelledby="961-el-código-fuente"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.6.1. El código fuente </h3> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="c1">//-------------------------</span>
<span class="c1">//   ALGORITMO PRINCIPAL</span>
<span class="c1">//-------------------------</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
   <span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
   <span class="kt">int</span> <span class="n">ganador</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>        <span class="c1">// 0 = ninguno, 1 = humano, 2 = ordenador</span>
   <span class="kt">int</span> <span class="n">tablas</span><span class="p">;</span>             <span class="c1">// 0 = no hay tablas, 1 = sí hay tablas</span>

   <span class="n">inicializar</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>   <span class="c1">// Esto es un subalgoritmo. Está escrito más abajo</span>
   <span class="k">do</span> <span class="p">{</span>
      <span class="n">mostrar</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
      <span class="n">colocar_pieza_humano</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
      <span class="n">ganador</span> <span class="o">=</span> <span class="n">comprobar_ganador</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
      <span class="n">tablas</span> <span class="o">=</span> <span class="n">comprobar_tablas</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">((</span><span class="n">ganador</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablas</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
         <span class="n">colocar_pieza_ordenador</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="n">comprobar_ganador</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
         <span class="n">tablas</span> <span class="o">=</span> <span class="n">comprobar_tablas</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="k">while</span> <span class="p">((</span><span class="n">ganador</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablas</span> <span class="o">==</span> <span class="mi">0</span><span class="p">));</span>
	
   <span class="n">mostrar</span><span class="p">(</span><span class="n">tablero</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">ganador</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"EL JUEGO HA TERMINADO EN TABLAS</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">ganador</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"EL JUEGO HA TERMINADO Y HAS GANADO TÚ</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">else</span> <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"EL JUEGO HA TERMINADO Y HE GANADO YO</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// --------------------------------------------</span>
<span class="c1">// Inicializa el tablero con espacios en blanco</span>
<span class="c1">// --------------------------------------------</span>
<span class="kt">void</span> <span class="nf">inicializar</span><span class="p">(</span><span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
   <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Como tablero es un array, se pasa por referencia y los cambios que</span>
      <span class="c1">// hagamos aquí se reflejarán en el algoritmo principal</span>
      <span class="n">tablero</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="sc">' '</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// --------------------------------------------</span>
<span class="c1">// Muestra el estado actual del tablero</span>
<span class="c1">// --------------------------------------------</span>
<span class="kt">void</span> <span class="nf">mostrar</span><span class="p">(</span><span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"ESTADO ACTUAL DEL TABLERO</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"+-+-+-+</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"|%c|%c|%c|</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"+-+-+-+</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"|%c|%c|%c|</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"+-+-+-+</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"|%c|%c|%c|</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">"+-+-+-+</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ---------------------------------------------------</span>
<span class="c1">// Coloca una pieza del jugador humano en el tablero</span>
<span class="c1">// ---------------------------------------------------</span>
<span class="kt">void</span> <span class="nf">colocar_pieza_humano</span><span class="p">(</span><span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">casilla</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">casilla_correcta</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="k">do</span> <span class="p">{</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"¿En qué casilla quieres poner una pieza? (1-9)"</span><span class="p">);</span>
      <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">casilla</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="n">casilla</span><span class="p">]</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">tablero</span><span class="p">[</span><span class="n">casilla</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'X'</span><span class="p">;</span>
         <span class="n">casilla_correcta</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
         <span class="n">printf</span><span class="p">(</span><span class="s">"Error: Esa casilla ya está ocupada</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="k">while</span> <span class="p">(</span><span class="n">casilla_correcta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ---------------------------------------------------</span>
<span class="c1">// Coloca una pieza del ordenador en el tablero</span>
<span class="c1">// ---------------------------------------------------</span>
<span class="kt">void</span> <span class="nf">colocar_pieza_ordenador</span><span class="p">(</span><span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">casilla</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">casilla_correcta</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
   <span class="k">do</span> <span class="p">{</span>
      <span class="n">casilla</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">"Voy a colocar mi pieza en la casilla "</span><span class="p">,</span> <span class="n">casilla</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="n">casilla</span><span class="p">]</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">tablero</span><span class="p">[</span><span class="n">casilla</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'O'</span><span class="p">;</span>
         <span class="n">casilla_correcta</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
         <span class="n">printf</span><span class="p">(</span><span class="s">"¡Está ocupada! Voy a elegir otra"</span><span class="p">);</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="k">while</span> <span class="p">(</span><span class="n">casilla_correcta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ---------------------------------------------------</span>
<span class="c1">// Comprueba si hay un ganador según el estado del </span>
<span class="c1">// tablero. Devuelve "Ninguno", "Humano" u "Ordenador"</span>
<span class="c1">// ---------------------------------------------------</span>
<span class="kt">int</span> <span class="nf">comprobar_ganador</span><span class="p">(</span><span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">ganador</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="c1">// Comprobamos primera fila</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos segunda fila</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos tercera fila</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">9</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos primera columna</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos segunda columna</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">8</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos tercera columna</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">9</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos una diagonal</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">9</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="c1">// Comprobamos la otra diagonal</span>
   <span class="k">if</span> <span class="p">((</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">7</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'X'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'O'</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">ganador</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="k">return</span> <span class="n">ganador</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// -------------------------------------------</span>
<span class="c1">// Comprueba si hay una situación de tablas</span>
<span class="c1">// según el estado actual del tablero. Devuelve</span>
<span class="c1">// verdadero si hay tablas o falso en otro caso.</span>
<span class="c1">// -------------------------------------------</span>
<span class="kt">int</span> <span class="nf">comprobar_tablas</span><span class="p">(</span><span class="kt">char</span> <span class="n">tablero</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="p">{</span>
   <span class="kt">int</span> <span class="n">tablas</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">contador</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">9</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">tablero</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span>  <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">contador</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
	
	<span class="c1">// Si todas las casillas están ya ocupadas y no hay ganador,</span>
	<span class="c1">// entonces estamos en tablas.</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">contador</span> <span class="o">==</span> <span class="mi">9</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">tablas</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="k">else</span> <span class="p">{</span>
      <span class="n">tablas</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="k">return</span> <span class="n">tablas</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="962-cómo-ejecutar-y-depurar-este-programa"> <a href="#962-cómo-ejecutar-y-depurar-este-programa" class="anchor-heading" aria-labelledby="962-cómo-ejecutar-y-depurar-este-programa"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9.6.2. ¿Cómo ejecutar y depurar este programa? </h3> <p>Guarda el programa anterior en un archivo de texto con extensión .c (por ejemplo, <em>3enraya.c</em>).</p> <p>Si estás trabajando con Visual Studio Code con la extensión Code Runner, como hemos recomendado, puedes ejecutar tu programa directamente desde ahí. Basta con que pulses el botón “Play” de la esquina superior derecha. Se abrirá una consola en la parte de abajo donde tu programa se ejecutará.</p> <h4 id="socorro-el-programa-no-funciona"> <a href="#socorro-el-programa-no-funciona" class="anchor-heading" aria-labelledby="socorro-el-programa-no-funciona"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ¡Socorro! El programa no funciona </h4> <p>¿El resultado no es el esperado? Es lo habitual. Habrá algún error en el código y te tocará depurarlo.</p> <p>En la ventana inferior de Visual Studio Code verás varias pestañas.</p> <ul> <li>En la pestaña <strong>Terminal</strong> verás el resultado de la ejecución de tu programa.</li> <li>En la pestaña <strong>Problems</strong> verás la lista de errores que el compilador ha encontrado en tu programa. En tal caso, en el <em>Terminal</em> solo verás un lenguaje de tipo “La compilación ha terminado con errores”.</li> </ul> <p>Los mensajes pueden estar en español o en inglés, dependiendo del compilador, pero ¿qué esperabas? Si quieres aprender a programar, tienes que acostumbrarte a manejar el inglés técnico.</p> <p>El mensaje de error te dará información sobre lo que hay de malo en tu código y te dirá en qué línea, aproximadamente, está el error.</p> <p>Cuando lo hayas localizado, <strong>regresa a tu editor de texto, haz los cambios necesarios, guarda las modificaciones y vuelve a compilar y ejecutar el programa</strong> (pulsando de nuevo el botón “Play”).</p> <p>Y así hasta que funcione.</p> <p>¡Mucha paciencia y sangre fría! Recuerda siempre que la mayor parte del tiempo de programación se va en depurar programas, no en escribirlos.</p> <hr> <h2 class="text-delta">Table of contents</h2> <ul> </ul> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
