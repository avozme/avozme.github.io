I"π<h2 class="no_toc" id="33-control-de-acceso-a-las-aplicaciones-web">3.3. Control de acceso a las aplicaciones web</h2>

<p><em>Cookies</em> y variables de sesi√≥n se usan a menudo, por separado o de forma combinada, para controlar el acceso a una aplicaci√≥n web. Es decir, para hacer el <em>login</em>.</p>

<p>En este punto conviene que te hagas esta pregunta: ¬øqu√© significa ‚Äúloguearse‚Äù en una aplicaci√≥n?</p>

<p>Pi√©nsalo un momento. ¬øQu√© significa eso <em>realmente</em>?</p>

<p>Por supuesto, implica superar un formulario donde se nos pregunta nuestro nombre de usuario (o nuestro email, o alguna otra identificaci√≥n) y una contrase√±a. Pero, si lo superamos, ¬øqu√© sucede entonces?</p>

<p><strong>Autenticarse o ‚Äúloguearse‚Äù en una aplicaci√≥n significa que esa aplicaci√≥n <em>cambia de estado</em> y pasa a reconocernos como usuarios registrados</strong>. <em>Algo</em> tiene que cambiar dentro de la aplicaci√≥n, porque a partir de ese momento, y solo para nosotros, se comportar√° de un modo distinto.</p>

<p>Ese ‚Äúalgo‚Äù implica que la aplicaci√≥n recordar√° qui√©nes somos nosotros y cuales son nuestros privilegios en la aplicaci√≥n hasta que cerremos la sesi√≥n. Y sobre nosotros puede recordar muchas cosas: el nombre, los apellidos, nuestra foto de perfil‚Ä¶ Pero, sobre todas esas cosas, hay una fundamental: nuestro ID de usuario.</p>

<p>Todos los usuarios registrados tienen un ID en todos los sistemas. A la aplicaci√≥n le basta con conocer nuestro ID para recordar qui√©nes somos.</p>

<p>¬øY c√≥mo ‚Äúrecuerda‚Äù una aplicaci√≥n web un dato como ese? Muy f√°cil: almacen√°ndolo en una <em>cookie</em> o en una variable de sesi√≥n, que son persistentes hasta que el programa decide destruirlas. Es decir, cuando el usuario abandona la aplicaci√≥n, el programa debe destruir la <em>cookie</em> o destruir la sesi√≥n.</p>

<p>Justo en este momento hay una cosa que tiene que quedarte muy clara: <strong>¬°ninguno de estos m√©todos es completamente seguro!</strong>.</p>

<p>Las <em>cookies</em> pueden rastrearse o modificarse en el ordenador del cliente. Adem√°s, algunos clientes las tienen desactivadas. ¬°No te puedes fiar de ellas!</p>

<p>Las variables de sesi√≥n, en principio m√°s seguras, pueden ser atacadas capturando el ID de sesi√≥n, como veremos m√°s adelante.</p>

<p>El m√©todo m√°s seguro, y el m√°s complicado de programar, es el que combina:</p>

<ul>
  <li>Cookies y/o variables de sesi√≥n.</li>
  <li>Variables guardadas en una tabla de la BD.</li>
</ul>

<p>El uso de <em>frameworks</em> solventes (como Laravel, que estudiaremos m√°s adelante) hace innecesario tomarse este trabajo, puesto que todos habilitan un mecanismo de sesiones seguras que mejora notablemente las prestaciones de las sesiones nativas de PHP.</p>

<p>No obstante, en las actividades resueltas y propuestas del final del tema plantearemos una soluci√≥n para la autenticaci√≥n de usuarios desarrollada por nosotros mismos y que resultar√° razonablemente segura.</p>
:ET