<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>1.10 Práctica final - DESARROLLO WEB FULL STACK</title> <link rel="shortcut icon" href="/docs/fullstack/_site/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs/fullstack/_site/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/docs/fullstack/_site/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/fullstack/_site/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>1.10 Práctica final | DESARROLLO WEB FULL STACK</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="1.10 Práctica final" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Apuntes del módulo optativo de “Desarrollo web full stack”, de 2º curso del Ciclo Formativo de Grado Superior de Desarrollo de Aplicaciones Web/Multiplataforma impartido en el IES Celia Viñas de Almería (España)" /> <meta property="og:description" content="Apuntes del módulo optativo de “Desarrollo web full stack”, de 2º curso del Ciclo Formativo de Grado Superior de Desarrollo de Aplicaciones Web/Multiplataforma impartido en el IES Celia Viñas de Almería (España)" /> <link rel="canonical" href="http://localhost:4000/docs/fullstack/_site/php/practica.html" /> <meta property="og:url" content="http://localhost:4000/docs/fullstack/_site/php/practica.html" /> <meta property="og:site_name" content="DESARROLLO WEB FULL STACK" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="1.10 Práctica final" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Apuntes del módulo optativo de “Desarrollo web full stack”, de 2º curso del Ciclo Formativo de Grado Superior de Desarrollo de Aplicaciones Web/Multiplataforma impartido en el IES Celia Viñas de Almería (España)","headline":"1.10 Práctica final","url":"http://localhost:4000/docs/fullstack/_site/php/practica.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/docs/fullstack/_site/" class="site-title lh-tight"> DESARROLLO WEB FULL STACK </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/fullstack/_site/" class="nav-list-link">Desarrollo web full stack</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/fullstack/_site/php/" class="nav-list-link">1 Programación web con PHP</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/frontend-backend-fullstack.html" class="nav-list-link">1.1 Frontend vs backend vs full stack</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/caja-de-herramientas.html" class="nav-list-link">1.2 Caja de herramientas</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/sintaxis-de-php.html" class="nav-list-link">1.3 Sintaxis de PHP</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/interaccion-con-mysql.html" class="nav-list-link">1.4 Interacción con la base de datos</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/depuracion-php-xdebug.html" class="nav-list-link">1.5 Depurando el código PHP con xdebug</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/cookies-y-sesiones.html" class="nav-list-link">1.6 Cookies y variables de sesión</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/mvc/" class="nav-list-link">1.7 Arquitectura MVC</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/ejercicios-resueltos.html" class="nav-list-link">1.8 Ejercicios resueltos</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/docs/fullstack/_site/php/ejercicios-propuestos.html" class="nav-list-link">1.9 Ejercicios propuestos</a> </li><li class="nav-list-item active"> <a href="http://localhost:4000/docs/fullstack/_site/php/practica.html" class="nav-list-link active">1.10 Práctica final</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/fullstack/_site/laravel/" class="nav-list-link">2 Laravel</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="http://localhost:4000/docs/fullstack/_site/api-rest/" class="nav-list-link">3 Desarrollo de un API REST</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/fullstack/_site/vue-js/" class="nav-list-link">4 Vue.js</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/fullstack/_site/inertia/" class="nav-list-link">5 Intertia.js</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/fullstack/_site/scv-git/" class="nav-list-link">Apéndice 1. Sistemas de control de versiones. Git</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/fullstack/_site/docker/" class="nav-list-link">Apéndice 2. Virtualización con Docker</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/fullstack/_site/openstack/" class="nav-list-link">Apéndice 3. Despliegue con Openstack</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/docs/fullstack/_site/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search DESARROLLO WEB FULL STACK" aria-label="Search DESARROLLO WEB FULL STACK" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/fullstack/_site/">Desarrollo web full stack</a></li> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/fullstack/_site/php/">1 Programación web con PHP</a></li> <li class="breadcrumb-nav-list-item"><span>1.10 Práctica final</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h2 class="no_toc" id="110-práctica-final-del-tema-1"> <a href="#110-práctica-final-del-tema-1" class="anchor-heading" aria-labelledby="110-práctica-final-del-tema-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.10. Práctica final del tema 1 </h2> <ul id="markdown-toc"> <li><a href="#1101-especificación-de-requisitos" id="markdown-toc-1101-especificación-de-requisitos">1.10.1. Especificación de requisitos</a></li> <li><a href="#1102-pasos-para-conseguir-una-implementación-funcional" id="markdown-toc-1102-pasos-para-conseguir-una-implementación-funcional">1.10.2. Pasos para conseguir una implementación funcional</a></li> </ul> <p>Para terminar la unidad didáctica de PHP vamos a proponer un caso prácticos más completo para que pongas manos a la obra.</p> <p>Se trata de crear, paso a paso, una aplicación web de corte realista que puede ser muy útil en un lugar como un instituto, una empresa, una oficina o cualquier otra organización medianamente compleja. <strong>Puedes utilizar el siguiente esqueleto de aplicación</strong> basado en la Biblioteca v3 para no empezar de cero:</p> <ul> <li><a href="../assets/code/mvc_app_scaffolding.zip">Descargar el esqueleto de la aplicación</a></li> </ul> <h3 id="1101-especificación-de-requisitos"> <a href="#1101-especificación-de-requisitos" class="anchor-heading" aria-labelledby="1101-especificación-de-requisitos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.10.1. Especificación de requisitos </h3> <p>Un problema que se presenta a menudo en estas organizaciones es la necesidad de compartir ciertos recursos, como proyectores, ordenadores portátiles, salas de conferencias o de exposiciones, etc.</p> <p>En nuestro instituto, por ejemplo, tenemos unas hojas impresas colgadas con una chincheta en un tablón de anuncios para que el profesorado reserve los carritos con portátiles o las aulas de informática, de modo que dos personas no traten de usar a la vez el mismo recurso.</p> <p>Es un método un poco primitivo (aunque eficaz, todo hay que decirlo) que se puede informatizar fácilmente mediante una aplicación web. Y eso es lo que proponemos aquí.</p> <p>Se trata de <strong>escribir una aplicación para reservar recursos</strong> de una organización. Los recursos pueden ser de cualquier tipo (ordenadores, proyectores, espacios físicos, etc.). Los usuarios, que tendrán que estar registrados, podrán reservar cada recurso durante tramos horarios predefinidos.</p> <p>Las tablas de la aplicación, por lo tanto, serán estas:</p> <ul> <li>Resources(id#, name, description, location, image) -&gt; Los recursos que se pueden reservar</li> <li>Users(id#, username, password, realname, type) -&gt; Los usuarios registrados</li> <li>TimeSlots(id#, dayOfWeek, startTime, endTime) -&gt; Los tramos temporales en lo que se pueden hacer reservas</li> <li>Reservations(idResource#, idUser#, idTimeSlot#, date, remarks) -&gt; Las reservas (remarks = comentarios)</li> </ul> <p>La aplicación, una vez rellenadas con datos las tablas maestras <em>Resources</em>, <em>Users</em> y <em>TimeSlots</em>, permitirá a los usuarios registrados <strong>reservar recursos</strong>. Antes tendrán que autenticarse (es decir, pasar por un login).</p> <p>Para hacer una reserva, un usuario tiene que seleccionar un recurso, una fecha y un tramo horario. Si el recurso ya está reservado, no se podrá reservar por segunda vez, obviamente.</p> <p>Además, habrá <strong>usuarios de dos tipos</strong>:</p> <ul> <li> <p><em>Type user</em>: es un usuario registrado cualquiera y puede hacer reservas y ver las reservas de otras personas, pero solo puede modificar y borrar sus propias reservas.</p> </li> <li> <p><em>Type admin</em>: es un usuario administrador. Puede hacer reservas y puede ver, modificar o borrar cualquier reserva de cualquier otro usuario. Además, puede hacer reservas “en bloque”, es decir, puede reservar un recurso en un tramo horario durante un periodo de tiempo. Por ejemplo, puede reservar el recurso “Aula de informática” de 8:05 a 9:05 todos los lunes del primer trimestre sin necesidad de ir reservándolo día por día.</p> </li> </ul> <h3 id="1102-pasos-para-conseguir-una-implementación-funcional"> <a href="#1102-pasos-para-conseguir-una-implementación-funcional" class="anchor-heading" aria-labelledby="1102-pasos-para-conseguir-una-implementación-funcional"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1.10.2. Pasos para conseguir una implementación funcional </h3> <p>Para conseguir implementar la aplicación completa, vamos a hacerlo por pasos, de modo incremental. ¡Que cada persona llegue hasta donde buenamente pueda!</p> <p>Recuerda que puedes empezar usando <a href="/docs/dwes/_site/assets/code/mvc_app_scaffolding.zip">el esqueleto de la aplicación</a> basado en la Biblioteca v4 para no programar desde cero.</p> <h4 id="paso-1-mantenimiento-de-la-tabla-resources"> <a href="#paso-1-mantenimiento-de-la-tabla-resources" class="anchor-heading" aria-labelledby="paso-1-mantenimiento-de-la-tabla-resources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 1. Mantenimiento de la tabla Resources </h4> <p>En este paso, debes crear todos los elementos necesarios para hacer el manenimiento completo de la tabla de recursos. Es decir: listado, inserción, borrado y modificación de recursos.</p> <p>Hazlo exactamente en ese orden, porque he escrito las operaciones en orden de dificultad en su implementación.</p> <p>Para hacerlo, necesitarás:</p> <ul> <li>El punto de entrada a la aplicación (index.php)</li> <li>El controlador de recursos (clase ResourcesController)</li> <li>El modelo de recursos (clase Resources)</li> <li>La capa de abstracción (clase Db)</li> <li>La clase vista (View)</li> <li>Una colección de vistas sencillas. Al menos dos: una para mostrar el listado de recursos y otra para el formulario de inserción y modificación (se puede reutilizar el mismo formulario para las dos cosas).</li> </ul> <p>Fíjate en que puedes reutilizar gran parte del <a href="../php/mvc/#1753-biblioteca-v3">código fuente de la Biblioteca</a>, con unas pocas adaptaciones.</p> <p>Lo ideal es hacer que, desde la vista <em>showAllResources</em>, se pueda acceder al resto de funcionalidades relacionadas con los recursos. Es decir, esa vista quedaría algo así:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MANTENIMIENTO DE RECURSOS

Recurso                     Ubicación         Acciones

Impresora Láser Brother     Aula 8            Modificar | Eliminar
Carrito de portátiles A     Lab. Biología     Modificar | Eliminar
Proyector portátil          Dirección         Modificar | Eliminar
etc.

                                              Añadir nuevo
</code></pre></div></div> <p>Los textos “Modificar”, “Eliminar” y “Añadir nuevo” deben ser <em>links</em> que nos conduzcan de regreso a la aplicación para realizar esas acciones con los recursos.</p> <h4 id="paso-2-mantenimiento-de-la-tabla-timeslots"> <a href="#paso-2-mantenimiento-de-la-tabla-timeslots" class="anchor-heading" aria-labelledby="paso-2-mantenimiento-de-la-tabla-timeslots"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 2. Mantenimiento de la tabla TimeSlots </h4> <p>El mantenimiento de esta tabla es muy similar al de la anterior. Necesitarás un controlador nuevo y un modelo nuevo, con métodos muy parecidos a los que ya has implementado para <em>Resources</em>.</p> <h4 id="paso-3-mantenimiento-de-la-tabla-users"> <a href="#paso-3-mantenimiento-de-la-tabla-users" class="anchor-heading" aria-labelledby="paso-3-mantenimiento-de-la-tabla-users"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 3. Mantenimiento de la tabla Users </h4> <p>Más de lo mismo. Reutiliza y adapta todo lo que puedas. Este tercer mantenimiento de tabla te debería salir con mucha más facilidad y rapidez que los dos anteriores.</p> <h4 id="paso-4-menú-principal"> <a href="#paso-4-menú-principal" class="anchor-heading" aria-labelledby="paso-4-menú-principal"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 4. Menú principal </h4> <p>Hasta ahora, tenemos un puñado de métodos en uno o varios controladores que se invocan pasando variables de control por la URL (algo como <code>http://mi-servidor/index.php?controller=resources&amp;action=showAll</code>).</p> <p>En este punto, vamos a juntarlos todos en un menú principal que contendrá enlaces a todas esas URLs. Cuando añadamos más funcionalidades al programa, solo tendremos que agregarlas al menú principal.</p> <p>Es decir, se trata de construir una vista <em>“mainMenu”</em> (o con el nombre que más te guste) a la que se acceda después de superar el login y que muestre algo como esto:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bienvenid@, nombre-de-usuario

MENÚ DE OPCIONES

Mantenimiento de recursos
Mantenimiento de tramos horarios
Mantenimiento de usuarios
Cerrar sesión
</code></pre></div></div> <p>Los textos “Mantenimiento de recursos”, “Mantenimiento de tramos horarios”, etc, deben ser <em>links</em> que nos conduzcan de regreso a la aplicación para acceder a las vistas de mantenimiento de esos elementos.</p> <h4 id="paso-5-autenticación"> <a href="#paso-5-autenticación" class="anchor-heading" aria-labelledby="paso-5-autenticación"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 5. Autenticación </h4> <p>De momento, cualquiera puede entrar a la aplicación y añadir, modificar o eliminar registros de las tablas maestras.</p> <p>Vamos a proteger el acceso al menú principal con un sistema de autenticación (login). Puedes, de nuevo, <a href="../php/mvc/#1753-biblioteca-v3">reutilizar el código del ejercicio resuelto de la Biblioteca</a>, pues allí ya existe un sistema de autenticación parecido.</p> <p>No te olvides de controlar el acceso a los métodos de los controladores para que solo los usuarios debidamente autenticados puedan ejecutarlos.</p> <h4 id="paso-6-reservas"> <a href="#paso-6-reservas" class="anchor-heading" aria-labelledby="paso-6-reservas"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 6. Reservas </h4> <p>Hacer o eliminar reservas consiste, básicamente, en insertar y eliminar registros de la tabla <em>TimeSlots</em>.</p> <p>Sin embargo, no es un mantenimiento como el de las otras tablas, puesto que esta tabla proviene de una relación ternaria entre tres entidades (reservas, slots y usuarios), y no es una tabla maestra como tal.</p> <p>Por eso dejamos este mantenimiento de tabla para el final: porque es el más <em>raro</em> y, además, constituye la pieza principal de la aplicación: si esto no está hecho, la aplicación, simplemente, carece de su funcionalidad principal.</p> <h4 id="paso-7-roles-de-usuario"> <a href="#paso-7-roles-de-usuario" class="anchor-heading" aria-labelledby="paso-7-roles-de-usuario"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 7. Roles de usuario </h4> <p>(Este paso es optativo)</p> <p>Vamos a añadir un campo nuevo a la tabla de usuarios. Lo llamaremos <em>“type”</em>, y solo podrá contener dos valores: 0 (admin) o 1 (user). Puedes usar un VARCHAR si te sientes más cómodo/a que con códigos numéricos.</p> <p>Si el usuario que entra en la aplicación es de tipo 0 (admin), tendrá acceso al menú principal y a todos los métodos de todos los controlares. Como hasta ahora, vamos.</p> <p>Pero si el usuario que entra en la aplicación es de tipo 1 (user), en el menú principal solo le aparecerán las opciones de acceso a las reservas. Es decir, no podrá añadir, modificar ni eliminar usuarios, slots o recursos. Cosa que es bastante lógica, ¿no te parece?</p> <p>Recuerda revisar el acceso a todos los métodos de todos los controladores para asegurarte de que un usuario de tipo 1 no entre, por ejemplo, al método para borrar recursos, ni siquiera escribiendo manualmente la URL.</p> <h4 id="paso-8-otras-mejoras"> <a href="#paso-8-otras-mejoras" class="anchor-heading" aria-labelledby="paso-8-otras-mejoras"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 8. Otras mejoras </h4> <p>(Este paso es optativo)</p> <p>A la aplicación se le pueden hacer infinitas mejoras. Aquí te sugiero algunas, pero estaría bien que te sacaras otras de tu propia chistera:</p> <ul> <li>Hacer que las vistas sean visualmente atractivas con CSS y/o Javascript.</li> <li>Mostrar un calendario en el que se aprecien visualmente las reservas de una semana o de un mes. O, mejor aún, incorporar un selector para poder ver el día actual, la semana actual o el mes actual (ojo, que esto último es bastante complicadillo).</li> <li>Añadir la posibilidad de crear y anular reservas directamente desde el calendario. Observa que, así, la vista principal del usuario de tipo 1 sería el calendario, mientras que el usuario de tipo 0 seguiría accediendo al viejo menú de principal para hacer el mantenimiento completo de tablas.</li> <li>Controlar que los usuarios de tipo 1 solo puedan eliminar sus propias reservas, no las de otros usuarios. En cambio, los usuarios de tipo 0 podrán eliminar cualquier reserva.</li> <li>Eliminar automáticamente las reservas cuya fecha ya haya pasado.</li> </ul> <h4 id="paso-9-enrutador"> <a href="#paso-9-enrutador" class="anchor-heading" aria-labelledby="paso-9-enrutador"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Paso 9. Enrutador </h4> <p>(Este paso es optativo)</p> <p><em>Advertencia: ¡este paso puede resultar complicadillo!</em></p> <p>¿Te atreves a crear un enrutador como el de los frameworks avanzados? No es un elemento fundamental para que la aplicación web funcione, sino que tan solo sirve para construir rutas limpias.</p> <p>Recuerda que el enrutador tiene que ser capaz de coger una URL limpia, como esta:</p> <p><code> https://mi-servidor/user/show/37 </code></p> <p>…y deducir de ahí que hay que invocar el método <em>show(37)</em> del controlador de usuarios. O bien el método <em>showUser(37)</em> si tu aplicación es tan simple que solo tiene un controlador.</p> <p>Debería funcionar con cualquier ruta construida de ese modo y cualquier cantidad de controladores.</p> <p>A ver si se te ocurre algo para incorporar un enrutador como este a la aplicación.</p> <p>(No sé si te has dado cuenta, pero, poco a poco, estamos construyendo nuestro porpio <em>framework</em> casero para programar aplicaciones MVC)</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
